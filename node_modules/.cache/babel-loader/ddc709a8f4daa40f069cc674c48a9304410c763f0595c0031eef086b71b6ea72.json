{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seorin\\\\Desktop\\\\Mapdagu-Front\\\\src\\\\pages\\\\EditEval.js\",\n  _s = $RefreshSig$();\nimport Header from \"../components/Header\";\nimport Button from \"../components/Button\";\nimport Editor from \"../components/Editor\";\nimport useDetail from \"../hooks/useDetail\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { EvalDispatchContext } from \"../App\";\nimport { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SERVER_URL = `https://mapdagu.site/api/evaluations`;\nconst EditEval = ({\n  accessToken\n}) => {\n  _s();\n  const navigate = useNavigate();\n  // const { id } = useParams();\n  const id = 4;\n  // const data = useDetail(id);\n  const {\n    onUpdate,\n    onDelete\n  } = useContext(EvalDispatchContext);\n  const [newData, setNewData] = useState({\n    name: \"\",\n    imageNum: 0,\n    score: 0\n  });\n  useEffect(() => {\n    try {\n      axios.get([SERVER_URL, id].join(\"/\"), {\n        headers: {\n          Authorization: accessToken\n        }\n      }).then(res => {\n        console.log(res.data);\n        setNewData({\n          name: res.data.name,\n          imageNum: res.data.imageNum,\n          score: res.data.score\n          // name: \"a\",\n          // imageNum: 1,\n          // score: 2,\n        });\n        // console.log(newData);\n      });\n    } catch (error) {\n      alert(error.response.data.message);\n    }\n  }, []);\n  const handleOnBack = () => {\n    navigate(-1);\n  };\n  const onSubmit = data => {\n    if (window.confirm(\"평가를 정말 수정할까요?\")) {\n      // const { name, imageNum, score } = newData;\n      // onUpdate(id, date, itemName, selectionId);\n      // navigate(`/evaluate`, {replace:true});\n    }\n  };\n  const onClickDelete = async () => {\n    if (window.confirm(\"평가를 정말 삭제할까요?\")) {\n      try {\n        await axios.delete([SERVER_URL, id].join(\"/\"), {\n          headers: {\n            Authorization: accessToken\n          }\n        });\n        navigate(`/evaluate`, {\n          replace: true\n        });\n      } catch (error) {\n        alert(error.response.data.message);\n      }\n      //     onDelete(id);\n    }\n  };\n\n  if (!newData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uD56D\\uBAA9\\uC744 \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        title: \"edit page\",\n        leftChild: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"\\u2190\",\n          onClick: handleOnBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 32\n        }, this),\n        rightChild: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"\\uC0AD\\uC81C\\uD558\\uAE30\",\n          onClick: onClickDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        initData: newData,\n        onSubmit: onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n};\n_s(EditEval, \"L0WNGdszONn5zuLsbFnnJgoLWok=\", false, function () {\n  return [useNavigate];\n});\n_c = EditEval;\nexport default EditEval;\nvar _c;\n$RefreshReg$(_c, \"EditEval\");","map":{"version":3,"names":["Header","Button","Editor","useDetail","useNavigate","useParams","EvalDispatchContext","useContext","useState","axios","useEffect","jsxDEV","_jsxDEV","SERVER_URL","EditEval","accessToken","_s","navigate","id","onUpdate","onDelete","newData","setNewData","name","imageNum","score","get","join","headers","Authorization","then","res","console","log","data","error","alert","response","message","handleOnBack","onSubmit","window","confirm","onClickDelete","delete","replace","children","fileName","_jsxFileName","lineNumber","columnNumber","title","leftChild","text","onClick","rightChild","initData","_c","$RefreshReg$"],"sources":["C:/Users/seorin/Desktop/Mapdagu-Front/src/pages/EditEval.js"],"sourcesContent":["import Header from \"../components/Header\";\r\nimport Button from \"../components/Button\";\r\nimport Editor from \"../components/Editor\";\r\nimport useDetail from \"../hooks/useDetail\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { EvalDispatchContext } from \"../App\";\r\nimport { useContext, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst SERVER_URL = `https://mapdagu.site/api/evaluations`;\r\n\r\nconst EditEval = ({accessToken}) => {    \r\n    const navigate = useNavigate();\r\n    // const { id } = useParams();\r\n    const id = 4;\r\n    // const data = useDetail(id);\r\n    const {onUpdate, onDelete} = useContext(EvalDispatchContext);\r\n    const [newData, setNewData] = useState({\r\n        name: \"\",\r\n        imageNum: 0,\r\n        score: 0,\r\n    });\r\n\r\n    useEffect(() => {\r\n        try{\r\n            axios.get([SERVER_URL, id].join(\"/\"), {headers: {Authorization: accessToken}})\r\n                .then(res => {\r\n                    console.log(res.data);\r\n                    setNewData({\r\n                        name: res.data.name,\r\n                        imageNum: res.data.imageNum,\r\n                        score: res.data.score,\r\n                        // name: \"a\",\r\n                        // imageNum: 1,\r\n                        // score: 2,\r\n                    });\r\n                    // console.log(newData);\r\n                })\r\n        } catch(error){\r\n            alert(error.response.data.message);\r\n        }\r\n    }, []);\r\n    \r\n\r\n    const handleOnBack = () => {\r\n        navigate(-1);\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n      if(window.confirm(\"평가를 정말 수정할까요?\")){\r\n            // const { name, imageNum, score } = newData;\r\n            // onUpdate(id, date, itemName, selectionId);\r\n            // navigate(`/evaluate`, {replace:true});\r\n        }\r\n    }\r\n\r\n    const onClickDelete = async() => {\r\n        if(window.confirm(\"평가를 정말 삭제할까요?\")){\r\n            try{\r\n                await axios.delete([SERVER_URL, id].join(\"/\"), {headers: {Authorization: accessToken}});\r\n                navigate(`/evaluate`, {replace:true});\r\n            \r\n            } catch(error){\r\n                alert(error.response.data.message);\r\n            }\r\n        //     onDelete(id);\r\n        }\r\n    }\r\n    \r\n    if(!newData){\r\n        return (<div>항목을 불러오고 있습니다...</div>)\r\n    }else{\r\n        return(\r\n            <div>\r\n                <Header\r\n                    title=\"edit page\"\r\n                    leftChild={<Button text=\"←\" onClick={handleOnBack}/>}\r\n                    rightChild={<Button text=\"삭제하기\" onClick={onClickDelete}/>}\r\n                />\r\n                <Editor initData={newData} onSubmit={onSubmit}/>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default EditEval;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seorin\\\\Desktop\\\\Mapdagu-Front\\\\src\\\\pages\\\\EditEval.js\",\n  _s = $RefreshSig$();\nimport Header from \"../components/Header\";\nimport Editor from \"../components/Editor\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SERVER_URL = `https://mapdagu.site/api/evaluations`;\nconst EditEval = ({\n  accessToken\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const [data, setData] = useState({\n    name: \"\",\n    imageNum: 0,\n    score: 0\n  });\n  useEffect(() => {\n    try {\n      axios.get([SERVER_URL, id].join(\"/\"), {\n        headers: {\n          Authorization: accessToken\n        }\n      }).then(res => {\n        setData({\n          ...res.data\n        });\n      });\n    } catch (error) {\n      alert(error.response.data.message);\n    }\n  }, []);\n  const handleOnBack = () => {\n    navigate(-1);\n  };\n  const onSubmit = async data => {\n    if (window.confirm(\"평가를 정말 수정할까요?\")) {\n      const score = data.score;\n      try {\n        await axios.patch([SERVER_URL, id].join(\"/\"), {\n          score\n        }, {\n          headers: {\n            Authorization: accessToken\n          }\n        });\n        navigate(`/evaluate`, {\n          replace: true\n        });\n      } catch (error) {\n        alert(error.response.data.message);\n      }\n    }\n  };\n  const onClickDelete = async () => {\n    if (window.confirm(\"평가를 정말 삭제할까요?\")) {\n      if (data.imageNum >= 1 && data.imageNum <= 3) {\n        alert(\"테스트 결과는 삭제할 수 없습니다.\");\n      } else {\n        try {\n          await axios.delete([SERVER_URL, id].join(\"/\"), {\n            headers: {\n              Authorization: accessToken\n            }\n          });\n          navigate(`/evaluate`, {\n            replace: true\n          });\n        } catch (error) {\n          alert(error.response.data.message);\n        }\n      }\n    }\n  };\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uD56D\\uBAA9\\uC744 \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(Header, {\n          leftChild: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleOnBack,\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 36\n          }, this),\n          rightChild: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClickDelete,\n            children: \"\\uC0AD\\uC81C\\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: /*#__PURE__*/_jsxDEV(Editor, {\n          initData: data,\n          onSubmit: onSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n};\n_s(EditEval, \"2yBY5Cp61xauPfaTBi19Bqlmdvs=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = EditEval;\nexport default EditEval;\nvar _c;\n$RefreshReg$(_c, \"EditEval\");","map":{"version":3,"names":["Header","Editor","useNavigate","useParams","useState","axios","useEffect","jsxDEV","_jsxDEV","SERVER_URL","EditEval","accessToken","_s","navigate","id","data","setData","name","imageNum","score","get","join","headers","Authorization","then","res","error","alert","response","message","handleOnBack","onSubmit","window","confirm","patch","replace","onClickDelete","delete","children","fileName","_jsxFileName","lineNumber","columnNumber","className","leftChild","onClick","rightChild","initData","_c","$RefreshReg$"],"sources":["C:/Users/seorin/Desktop/Mapdagu-Front/src/pages/EditEval.js"],"sourcesContent":["import Header from \"../components/Header\";\r\nimport Editor from \"../components/Editor\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst SERVER_URL = `https://mapdagu.site/api/evaluations`;\r\n\r\nconst EditEval = ({accessToken}) => {    \r\n    const navigate = useNavigate();\r\n    const { id } = useParams();\r\n    const [data, setData] = useState({\r\n        name: \"\",\r\n        imageNum: 0,\r\n        score: 0,\r\n    });\r\n\r\n    useEffect(() => { \r\n        try{\r\n            axios.get([SERVER_URL, id].join(\"/\"), {headers: {Authorization: accessToken}})\r\n                .then(res => {\r\n                    setData({\r\n                        ...res.data,\r\n                    });\r\n                })\r\n        } catch(error){\r\n            alert(error.response.data.message);\r\n        }\r\n    }, []);\r\n    \r\n\r\n    const handleOnBack = () => {\r\n        navigate(-1);\r\n    }\r\n\r\n    const onSubmit = async(data) => {\r\n        if(window.confirm(\"평가를 정말 수정할까요?\")){\r\n            const score = data.score;\r\n            try{\r\n                await axios.patch([SERVER_URL, id].join(\"/\"), {score}, {headers: {Authorization: accessToken}});\r\n                navigate(`/evaluate`, {replace:true});        \r\n            } catch(error){\r\n                alert(error.response.data.message);\r\n            }\r\n        }\r\n    }\r\n\r\n    const onClickDelete = async() => {\r\n        if(window.confirm(\"평가를 정말 삭제할까요?\")){\r\n            if(data.imageNum >= 1 && data.imageNum <=3 ){\r\n                alert(\"테스트 결과는 삭제할 수 없습니다.\");\r\n            } else {\r\n                try{\r\n                    await axios.delete([SERVER_URL, id].join(\"/\"), {headers: {Authorization: accessToken}});\r\n                    navigate(`/evaluate`, {replace:true});\r\n                \r\n                } catch(error){\r\n                    alert(error.response.data.message);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    if(!data){\r\n        return (<div>항목을 불러오고 있습니다...</div>)\r\n    }else{\r\n        return(\r\n            <div className=\"container\">\r\n                <div className=\"header\">\r\n                    {/* <Header\r\n                        type = {1}\r\n                        leftChild={<button onClick={handleOnBack}>◁</button>}\r\n                    /> */}\r\n                    <Header\r\n                        leftChild={<button onClick={handleOnBack}>취소</button>}\r\n                        rightChild={<button onClick={onClickDelete}>삭제하기</button>}\r\n                    />\r\n                </div>\r\n                <div className=\"content\">\r\n                    <Editor initData={data} onSubmit={onSubmit}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default EditEval;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seorin\\\\Documents\\\\CodingRin\\\\Mapdagu-Front\\\\src\\\\pages\\\\Result.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport ResultViewer from \"../components/ResultViewer\";\nimport { EvalDispatchContext, EvalStateContext } from \"../App\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TEST_URL = `https://mapdagu.site/api/test`;\nconst RESULT_URL = `https://mapdagu.site/api/test/info`;\nconst Result = ({\n  role,\n  accessToken\n}) => {\n  _s();\n  const data = useContext(EvalStateContext);\n  const {\n    onSubmit\n  } = useContext(EvalDispatchContext);\n  //임시 데이터\n  const schoville = 3000;\n  const level = 2;\n  const dtoList = data.map(item => {\n    return {\n      name: item.itemName[0],\n      score: item.selectionId\n    };\n  });\n  useEffect(() => {\n    if (role === \"NOT_TEST_USER\") {\n      try {\n        axios.post(TEST_URL, {\n          dtoList\n        }, {\n          headers: {\n            Authorization: accessToken\n          }\n        });\n        onSubmit();\n      } catch (error) {\n        alert(error.response.data.message);\n      }\n    } else {\n      try {\n        axios.patch(TEST_URL, {\n          dtoList\n        }, {\n          headers: {\n            Authorization: accessToken\n          }\n        });\n      } catch (error) {\n        alert(error.response.data.message);\n      }\n    }\n    try {\n      axios.patch(RESULT_URL, {\n        schoville,\n        level\n      }, {\n        headers: {\n          Authorization: accessToken\n        }\n      });\n    } catch (error) {\n      alert(error.response.data.message);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(ResultViewer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(Result, \"6vqKGYTpuu114zpEMX0r0xK/BZU=\");\n_c = Result;\nexport default Result;\nvar _c;\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"names":["useContext","useEffect","ResultViewer","EvalDispatchContext","EvalStateContext","axios","jsxDEV","_jsxDEV","TEST_URL","RESULT_URL","Result","role","accessToken","_s","data","onSubmit","schoville","level","dtoList","map","item","name","itemName","score","selectionId","post","headers","Authorization","error","alert","response","message","patch","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/seorin/Documents/CodingRin/Mapdagu-Front/src/pages/Result.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport ResultViewer from \"../components/ResultViewer\";\r\nimport { EvalDispatchContext, EvalStateContext } from \"../App\";\r\nimport axios from \"axios\";\r\n\r\nconst TEST_URL = `https://mapdagu.site/api/test`;\r\nconst RESULT_URL = `https://mapdagu.site/api/test/info`;\r\n\r\nconst Result = ({role, accessToken}) => {\r\n    const data = useContext(EvalStateContext);\r\n    const { onSubmit } = useContext(EvalDispatchContext);\r\n    //임시 데이터\r\n    const schoville = 3000; \r\n    const level = 2;\r\n\r\n    const dtoList = data.map(item => {\r\n        return {\r\n          name: item.itemName[0],\r\n          score: item.selectionId,\r\n        };\r\n      });\r\n\r\n    useEffect(() => {\r\n          if(role === \"NOT_TEST_USER\"){\r\n            try{\r\n                axios.post(TEST_URL, {dtoList}, {headers: {Authorization: accessToken}});\r\n                onSubmit();\r\n              } catch (error) {\r\n                alert(error.response.data.message);\r\n            }\r\n          } else{   \r\n              try{\r\n                axios.patch(TEST_URL, {dtoList}, {headers: {Authorization: accessToken}});\r\n              } catch (error) {\r\n                alert(error.response.data.message);\r\n            }\r\n          }\r\n          try{\r\n              axios.patch(RESULT_URL, {schoville, level}, {headers: {Authorization: accessToken}});\r\n          } catch (error) {\r\n              alert(error.response.data.message);\r\n          }\r\n    }, []);\r\n    \r\n    return(\r\n        <div className=\"container\">\r\n            <div className=\"content\">\r\n                <ResultViewer />                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Result;"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,OAAOC,YAAY,MAAM,4BAA4B;AACrD,SAASC,mBAAmB,EAAEC,gBAAgB,QAAQ,QAAQ;AAC9D,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,QAAQ,GAAI,+BAA8B;AAChD,MAAMC,UAAU,GAAI,oCAAmC;AAEvD,MAAMC,MAAM,GAAGA,CAAC;EAACC,IAAI;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EACpC,MAAMC,IAAI,GAAGd,UAAU,CAACI,gBAAgB,CAAC;EACzC,MAAM;IAAEW;EAAS,CAAC,GAAGf,UAAU,CAACG,mBAAmB,CAAC;EACpD;EACA,MAAMa,SAAS,GAAG,IAAI;EACtB,MAAMC,KAAK,GAAG,CAAC;EAEf,MAAMC,OAAO,GAAGJ,IAAI,CAACK,GAAG,CAACC,IAAI,IAAI;IAC7B,OAAO;MACLC,IAAI,EAAED,IAAI,CAACE,QAAQ,CAAC,CAAC,CAAC;MACtBC,KAAK,EAAEH,IAAI,CAACI;IACd,CAAC;EACH,CAAC,CAAC;EAEJvB,SAAS,CAAC,MAAM;IACV,IAAGU,IAAI,KAAK,eAAe,EAAC;MAC1B,IAAG;QACCN,KAAK,CAACoB,IAAI,CAACjB,QAAQ,EAAE;UAACU;QAAO,CAAC,EAAE;UAACQ,OAAO,EAAE;YAACC,aAAa,EAAEf;UAAW;QAAC,CAAC,CAAC;QACxEG,QAAQ,CAAC,CAAC;MACZ,CAAC,CAAC,OAAOa,KAAK,EAAE;QACdC,KAAK,CAACD,KAAK,CAACE,QAAQ,CAAChB,IAAI,CAACiB,OAAO,CAAC;MACtC;IACF,CAAC,MAAK;MACF,IAAG;QACD1B,KAAK,CAAC2B,KAAK,CAACxB,QAAQ,EAAE;UAACU;QAAO,CAAC,EAAE;UAACQ,OAAO,EAAE;YAACC,aAAa,EAAEf;UAAW;QAAC,CAAC,CAAC;MAC3E,CAAC,CAAC,OAAOgB,KAAK,EAAE;QACdC,KAAK,CAACD,KAAK,CAACE,QAAQ,CAAChB,IAAI,CAACiB,OAAO,CAAC;MACtC;IACF;IACA,IAAG;MACC1B,KAAK,CAAC2B,KAAK,CAACvB,UAAU,EAAE;QAACO,SAAS;QAAEC;MAAK,CAAC,EAAE;QAACS,OAAO,EAAE;UAACC,aAAa,EAAEf;QAAW;MAAC,CAAC,CAAC;IACxF,CAAC,CAAC,OAAOgB,KAAK,EAAE;MACZC,KAAK,CAACD,KAAK,CAACE,QAAQ,CAAChB,IAAI,CAACiB,OAAO,CAAC;IACtC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIxB,OAAA;IAAK0B,SAAS,EAAC,WAAW;IAAAC,QAAA,eACtB3B,OAAA;MAAK0B,SAAS,EAAC,SAAS;MAAAC,QAAA,eACpB3B,OAAA,CAACL,YAAY;QAAAiC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAAzB,EAAA,CA3CKH,MAAM;AAAA6B,EAAA,GAAN7B,MAAM;AA6CZ,eAAeA,MAAM;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
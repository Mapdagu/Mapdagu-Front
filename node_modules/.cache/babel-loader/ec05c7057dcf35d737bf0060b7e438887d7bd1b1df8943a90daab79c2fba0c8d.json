{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seorin\\\\Desktop\\\\Mapdagu-Front\\\\src\\\\pages\\\\EditEval.js\",\n  _s = $RefreshSig$();\nimport Header from \"../components/Header\";\nimport Button from \"../components/Button\";\nimport Editor from \"../components/Editor\";\nimport useDetail from \"../hooks/useDetail\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { EvalDispatchContext } from \"../App\";\nimport { useContext } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SERVER_URL = `https://mapdagu.site/api/evaluations`;\nconst EditEval = ({\n  accessToken\n}) => {\n  _s();\n  console.log([SERVER_URL, id].join(\"/\"));\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const data = useDetail(id);\n  const {\n    onUpdate,\n    onDelete\n  } = useContext(EvalDispatchContext);\n  useEffect(() => {\n    try {\n      const res = axios.get([SERVER_URL, id].join(\"/\"), {\n        headers: {\n          Authorization: accessToken\n        }\n      });\n      console.log(res);\n    } catch (error) {\n      alert(error.response.data.message);\n    }\n  }, []);\n  const handleOnBack = () => {\n    navigate(-1);\n  };\n  const onSubmit = data => {\n    if (window.confirm(\"평가를 정말 수정할까요?\")) {\n      const {\n        date,\n        itemName,\n        selectionId\n      } = data;\n      onUpdate(id, date, itemName, selectionId);\n      navigate(`/evaluate`, {\n        replace: true\n      });\n    }\n  };\n  const onClickDelete = () => {\n    if (window.confirm(\"평가를 정말 삭제할까요?\")) {\n      onDelete(id);\n      navigate(`/evaluate`, {\n        replace: true\n      });\n    }\n  };\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uD56D\\uBAA9\\uC744 \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        title: \"edit page\",\n        leftChild: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"\\u2190\",\n          onClick: handleOnBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 32\n        }, this),\n        rightChild: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"\\uC0AD\\uC81C\\uD558\\uAE30\",\n          onClick: onClickDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        initData: data,\n        onSubmit: onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  }\n};\n_s(EditEval, \"lIyZ9uzpiHAI77j/d4umE4JquH4=\", false, function () {\n  return [useNavigate, useParams, useDetail];\n});\n_c = EditEval;\nexport default EditEval;\nvar _c;\n$RefreshReg$(_c, \"EditEval\");","map":{"version":3,"names":["Header","Button","Editor","useDetail","useNavigate","useParams","EvalDispatchContext","useContext","axios","useEffect","jsxDEV","_jsxDEV","SERVER_URL","EditEval","accessToken","_s","console","log","id","join","navigate","data","onUpdate","onDelete","res","get","headers","Authorization","error","alert","response","message","handleOnBack","onSubmit","window","confirm","date","itemName","selectionId","replace","onClickDelete","children","fileName","_jsxFileName","lineNumber","columnNumber","title","leftChild","text","onClick","rightChild","initData","_c","$RefreshReg$"],"sources":["C:/Users/seorin/Desktop/Mapdagu-Front/src/pages/EditEval.js"],"sourcesContent":["import Header from \"../components/Header\";\r\nimport Button from \"../components/Button\";\r\nimport Editor from \"../components/Editor\";\r\nimport useDetail from \"../hooks/useDetail\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { EvalDispatchContext } from \"../App\";\r\nimport { useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst SERVER_URL = `https://mapdagu.site/api/evaluations`;\r\n\r\nconst EditEval = ({accessToken}) => {    \r\n    console.log([SERVER_URL, id].join(\"/\"));\r\n    const navigate = useNavigate();\r\n    const { id } = useParams();\r\n    const data = useDetail(id);\r\n    const {onUpdate, onDelete} = useContext(EvalDispatchContext);\r\n\r\n    useEffect(() => {\r\n        try{\r\n            const res = axios.get([SERVER_URL, id].join(\"/\"), {headers: {Authorization: accessToken}})\r\n            console.log(res);\r\n        } catch(error){\r\n            alert(error.response.data.message);\r\n        }\r\n    }, []);\r\n\r\n    const handleOnBack = () => {\r\n        navigate(-1);\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n      if(window.confirm(\"평가를 정말 수정할까요?\")){\r\n            const { date, itemName, selectionId } = data;\r\n            onUpdate(id, date, itemName, selectionId);\r\n            navigate(`/evaluate`, {replace:true});\r\n        }\r\n    }\r\n\r\n    const onClickDelete = () => {\r\n        if(window.confirm(\"평가를 정말 삭제할까요?\")){\r\n            onDelete(id);\r\n            navigate(`/evaluate`, {replace:true});\r\n        }\r\n    }\r\n    \r\n    if(!data){\r\n        return (<div>항목을 불러오고 있습니다...</div>)\r\n    }else{\r\n        return(\r\n            <div>\r\n                <Header\r\n                    title=\"edit page\"\r\n                    leftChild={<Button text=\"←\" onClick={handleOnBack}/>}\r\n                    rightChild={<Button text=\"삭제하기\" onClick={onClickDelete}/>}\r\n                />\r\n                <Editor initData={data} onSubmit={onSubmit}/>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default EditEval;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
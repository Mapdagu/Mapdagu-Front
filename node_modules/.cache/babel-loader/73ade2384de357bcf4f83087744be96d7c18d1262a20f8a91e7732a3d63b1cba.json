{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seorin\\\\Desktop\\\\Mapdagu-Front\\\\src\\\\pages\\\\EditEval.js\",\n  _s = $RefreshSig$();\nimport Header from \"../components/Header\";\nimport Button from \"../components/Button\";\nimport Editor from \"../components/Editor\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SERVER_URL = `https://mapdagu.site/api/evaluations`;\nconst EditEval = ({\n  accessToken\n}) => {\n  _s();\n  const navigate = useNavigate();\n  //임시\n  const id = 4;\n  const [newData, setNewData] = useState({\n    name: \"\",\n    imageNum: 0,\n    score: 0\n  });\n  useEffect(() => {\n    try {\n      axios.get([SERVER_URL, id].join(\"/\"), {\n        headers: {\n          Authorization: accessToken\n        }\n      }).then(res => {\n        console.log(res.data);\n        setNewData({\n          ...res.data\n        });\n      });\n    } catch (error) {\n      alert(error.response.data.message);\n    }\n  }, []);\n  const handleOnBack = () => {\n    navigate(-1);\n  };\n  const onSubmit = async data => {\n    if (window.confirm(\"평가를 정말 수정할까요?\")) {\n      const score = data.score;\n      try {\n        await axios.patch([SERVER_URL, id].join(\"/\"), {\n          score\n        }, {\n          headers: {\n            Authorization: accessToken\n          }\n        });\n        navigate(`/evaluate`, {\n          replace: true\n        });\n      } catch (error) {\n        alert(error.response.data.message);\n      }\n      // onUpdate(id, date, itemName, selectionId);\n    }\n  };\n\n  const onClickDelete = async () => {\n    if (window.confirm(\"평가를 정말 삭제할까요?\")) {\n      try {\n        await axios.delete([SERVER_URL, id].join(\"/\"), {\n          headers: {\n            Authorization: accessToken\n          }\n        });\n        navigate(`/evaluate`, {\n          replace: true\n        });\n      } catch (error) {\n        alert(error.response.data.message);\n      }\n      //     onDelete(id);\n    }\n  };\n\n  if (!newData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uD56D\\uBAA9\\uC744 \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        title: \"edit page\",\n        leftChild: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"\\u2190\",\n          onClick: handleOnBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 32\n        }, this),\n        rightChild: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"\\uC0AD\\uC81C\\uD558\\uAE30\",\n          onClick: onClickDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        initData: newData,\n        onSubmit: onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this);\n  }\n};\n_s(EditEval, \"xvCNgbL05aRVHM4cANkc+OGYxx0=\", false, function () {\n  return [useNavigate];\n});\n_c = EditEval;\nexport default EditEval;\nvar _c;\n$RefreshReg$(_c, \"EditEval\");","map":{"version":3,"names":["Header","Button","Editor","useNavigate","useState","axios","useEffect","jsxDEV","_jsxDEV","SERVER_URL","EditEval","accessToken","_s","navigate","id","newData","setNewData","name","imageNum","score","get","join","headers","Authorization","then","res","console","log","data","error","alert","response","message","handleOnBack","onSubmit","window","confirm","patch","replace","onClickDelete","delete","children","fileName","_jsxFileName","lineNumber","columnNumber","title","leftChild","text","onClick","rightChild","initData","_c","$RefreshReg$"],"sources":["C:/Users/seorin/Desktop/Mapdagu-Front/src/pages/EditEval.js"],"sourcesContent":["import Header from \"../components/Header\";\r\nimport Button from \"../components/Button\";\r\nimport Editor from \"../components/Editor\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst SERVER_URL = `https://mapdagu.site/api/evaluations`;\r\n\r\nconst EditEval = ({accessToken}) => {    \r\n    const navigate = useNavigate();\r\n    //임시\r\n    const id =4;\r\n    const [newData, setNewData] = useState({\r\n        name: \"\",\r\n        imageNum: 0,\r\n        score: 0,\r\n    });\r\n\r\n    useEffect(() => {\r\n        try{\r\n            axios.get([SERVER_URL, id].join(\"/\"), {headers: {Authorization: accessToken}})\r\n                .then(res => {\r\n                    console.log(res.data);\r\n                    setNewData({\r\n                        ...res.data,\r\n                    });\r\n                })\r\n        } catch(error){\r\n            alert(error.response.data.message);\r\n        }\r\n    }, []);\r\n    \r\n\r\n    const handleOnBack = () => {\r\n        navigate(-1);\r\n    }\r\n\r\n    const onSubmit = async(data) => {\r\n      if(window.confirm(\"평가를 정말 수정할까요?\")){\r\n        const score = data.score;\r\n        try{\r\n            await axios.patch([SERVER_URL, id].join(\"/\"), {score}, {headers: {Authorization: accessToken}});\r\n            navigate(`/evaluate`, {replace:true});        \r\n        } catch(error){\r\n            alert(error.response.data.message);\r\n        }\r\n            // onUpdate(id, date, itemName, selectionId);\r\n        }\r\n    }\r\n\r\n    const onClickDelete = async() => {\r\n        if(window.confirm(\"평가를 정말 삭제할까요?\")){\r\n            try{\r\n                await axios.delete([SERVER_URL, id].join(\"/\"), {headers: {Authorization: accessToken}});\r\n                navigate(`/evaluate`, {replace:true});\r\n            \r\n            } catch(error){\r\n                alert(error.response.data.message);\r\n            }\r\n        //     onDelete(id);\r\n        }\r\n    }\r\n    \r\n    if(!newData){\r\n        return (<div>항목을 불러오고 있습니다...</div>)\r\n    }else{\r\n        return(\r\n            <div>\r\n                <Header\r\n                    title=\"edit page\"\r\n                    leftChild={<Button text=\"←\" onClick={handleOnBack}/>}\r\n                    rightChild={<Button text=\"삭제하기\" onClick={onClickDelete}/>}\r\n                />\r\n                <Editor initData={newData} onSubmit={onSubmit}/>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default EditEval;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
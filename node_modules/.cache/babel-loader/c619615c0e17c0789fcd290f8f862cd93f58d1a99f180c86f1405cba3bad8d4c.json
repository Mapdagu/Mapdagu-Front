{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seorin\\\\Desktop\\\\Mapdagu-Front\\\\src\\\\pages\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport Login from \"../components/login/Login\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SERVER_URL = 'https://mapdagu.site/login';\nconst LoginPage = ({\n  getUserInfRes\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const onSubmit = async data => {\n    const {\n      email,\n      password\n    } = data;\n    try {\n      const res = await axios.post(SERVER_URL, {\n        email,\n        password\n      });\n      const role = res.data.role;\n      const accessToken = res.headers[`authorization`];\n      const refreshToken = res.headers[`authorization-refresh`];\n      if (role === \"NOT_TEST_USER\") {\n        navigate(`/test`);\n      } else if (role === \"USER\") {\n        navigate(`/main`);\n      } else {\n        navigate(`/set_profile`);\n      }\n      console.log(res);\n      getUserInfRes(role, accessToken, refreshToken);\n    } catch (error) {\n      alert(error.response.data.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Login, {\n      onSubmit: onSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginPage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["Login","useNavigate","axios","jsxDEV","_jsxDEV","SERVER_URL","LoginPage","getUserInfRes","_s","navigate","onSubmit","data","email","password","res","post","role","accessToken","headers","refreshToken","console","log","error","alert","response","message","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/seorin/Desktop/Mapdagu-Front/src/pages/LoginPage.js"],"sourcesContent":["import Login from \"../components/login/Login\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst SERVER_URL = 'https://mapdagu.site/login';\r\n\r\nconst LoginPage = ({getUserInfRes}) => {\r\n    const navigate = useNavigate();\r\n    const onSubmit = async (data) => {\r\n        const { email, password } = data;\r\n        try {\r\n            const res = (await axios.post(SERVER_URL, {email, password}));\r\n            const role = res.data.role;\r\n            const accessToken = res.headers[`authorization`];\r\n            const refreshToken = res.headers[`authorization-refresh`];\r\n            if(role === \"NOT_TEST_USER\"){\r\n                navigate(`/test`);\r\n            } else if(role === \"USER\"){\r\n                navigate(`/main`);\r\n            } else {\r\n                navigate(`/set_profile`);\r\n            }\r\n            console.log(res);\r\n            getUserInfRes(role, accessToken, refreshToken);\r\n        }catch (error) {\r\n            alert(error.response.data.message);\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <Login onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoginPage;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,2BAA2B;AAC7C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,UAAU,GAAG,4BAA4B;AAE/C,MAAMC,SAAS,GAAGA,CAAC;EAACC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,QAAQ,GAAG,MAAOC,IAAI,IAAK;IAC7B,MAAM;MAAEC,KAAK;MAAEC;IAAS,CAAC,GAAGF,IAAI;IAChC,IAAI;MACA,MAAMG,GAAG,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAACV,UAAU,EAAE;QAACO,KAAK;QAAEC;MAAQ,CAAC,CAAE;MAC7D,MAAMG,IAAI,GAAGF,GAAG,CAACH,IAAI,CAACK,IAAI;MAC1B,MAAMC,WAAW,GAAGH,GAAG,CAACI,OAAO,CAAE,eAAc,CAAC;MAChD,MAAMC,YAAY,GAAGL,GAAG,CAACI,OAAO,CAAE,uBAAsB,CAAC;MACzD,IAAGF,IAAI,KAAK,eAAe,EAAC;QACxBP,QAAQ,CAAE,OAAM,CAAC;MACrB,CAAC,MAAM,IAAGO,IAAI,KAAK,MAAM,EAAC;QACtBP,QAAQ,CAAE,OAAM,CAAC;MACrB,CAAC,MAAM;QACHA,QAAQ,CAAE,cAAa,CAAC;MAC5B;MACAW,OAAO,CAACC,GAAG,CAACP,GAAG,CAAC;MAChBP,aAAa,CAACS,IAAI,EAAEC,WAAW,EAAEE,YAAY,CAAC;IAClD,CAAC,QAAOG,KAAK,EAAE;MACXC,KAAK,CAACD,KAAK,CAACE,QAAQ,CAACb,IAAI,CAACc,OAAO,CAAC;IACtC;EACJ,CAAC;EACD,oBACIrB,OAAA;IAAAsB,QAAA,eACItB,OAAA,CAACJ,KAAK;MAACU,QAAQ,EAAEA;IAAS;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3B,CAAC;AAEd,CAAC;AAAAtB,EAAA,CA3BKF,SAAS;EAAA,QACML,WAAW;AAAA;AAAA8B,EAAA,GAD1BzB,SAAS;AA6Bf,eAAeA,SAAS;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}